
Bunny-Metrics (Trino sidecar) Kubernetes Helm Charts
===========
[![Release Bunny-Metrics Chart](https://github.com/bluecatengineering/bunny-metrics-helm/actions/workflows/release.yaml/badge.svg?branch=main)](https://github.com/bluecatengineering/bunny-metrics-helm/actions/workflows/release.yaml)

A sidecar to run alongside Trino to gather metrics using the JMX connector and expose them in different formats using Apache Velocity.

---

## Usage

### Requirements
* [Helm](https://helm.sh)

### Installation
Add this repo:

```shell
helm repo add bunny-metrics https://bluecatengineering.github.io/bunny-metrics-helm/
```

Install helm chart:

```shell
helm install my-bunny-metrics bunny-metrics/bunny-metrics --version 0.1.0
```


## Configuration

The following table lists the configurable parameters of the Bunny-metrics chart and their default values.

| Parameter                | Description             | Default        |
| ------------------------ | ----------------------- | -------------- |
| `name` |  | `"bunny-metrics"` |
| `deployment.replicas` |  | `1` |
| `deployment.imageRegistry` |  | `"ghcr.io/bluecatengineering"` |
| `deployment.image` |  | `"bunny-metrics:main"` |
| `deployment.dockerTag` |  | `"latest"` |
| `deployment.imagePullPolicy` |  | `"Always"` |
| `deployment.containerPort` |  | `8090` |
| `deployment.velocityProperties` | An array of strings containing Apache Velocity [properties](https://velocity.apache.org/engine/2.0/configuration.html). Example:\n `- "directive.if.emptycheck = true"` | `[]` |
| `deployment.trinoProperties.host` | Host where Trino is located. Since is a sidecar, ideally it should be closest as possible. For more JDBC parameters [click here](https://trino.io/docs/current/installation/jdbc.html#parameter-reference). | `"localhost"` |
| `deployment.trinoProperties.port` | Port where Trino service is running. | `8080` |
| `deployment.trinoProperties.authentication.user` | By default, any value is enough here, unless security configuration has changed on Trino side. | `"user"` |
| `service.port` |  | `8020` |



---
_Documentation generated by [Frigate](https://frigate.readthedocs.io)._

